{"version":3,"file":"index.mjs","sources":["../src/utils.ts","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","../src/control.ts","../src/use-actions.ts","../src/validators.ts"],"sourcesContent":["import { ValidatorFn } from \"./validators\";\nimport {ControlValidators} from \"./interfaces\";\n\n\nexport const chainValidators: <T>(validators: ControlValidators<T>) => ValidatorFn = (\n\tvalidators\n) => {\n\tif (!Array.isArray(validators.validators)) return (value: any) => null;\n\treturn (fieldValue) => {\n\t\tfor (const validator of validators.validators) {\n\t\t\tconst result = validator(fieldValue, validators.control);\n\t\t\tif (result) return result;\n\t\t}\n\t\treturn null;\n\t};\n};\n\nexport const validateIterated = <T>(\n\tvalidators: ControlValidators<T>,\n\tfieldValue: T\n) => {\n\tif (!Array.isArray(validators.validators)) return null;\n\tfor (const validator of validators.validators) {\n\t\tif (typeof validator === \"function\") {\n\t\t\ttry {\n\t\t\t\tconst result = validator(fieldValue, validators.control);\n\t\t\t\tif (result != null) return result;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(`validator error`, validator, e);\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { derived, get, Readable, writable, Writable } from \"svelte/store\";\nimport { validateIterated } from \"./utils\";\nimport { ValidationError, ValidatorFn } from \"./validators\";\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n\t$ControlState,\n\tControlBaseInterface, ControlEventOptions,\n\tControlState,\n\tControlTypes,\n\tControlValidators,\n\tFormControlMeta\n} from \"./interfaces\";\n\nconst defaultMeta:FormControlMeta = {\n\ttype: 'string'\n}\n\nexport abstract class ControlBase<T = any> implements ControlBaseInterface<T> {\n\tpublic validators: Writable<ControlValidators<T>>;\n\n\tpublic meta: Writable<FormControlMeta>;\n\n\tpublic id: string = uuidv4()\n\n\tpublic currentState: ControlState<T> | null = null\n\n\tpublic propagateChanges: boolean = true\n\n\tpublic label: string\n\n\tconstructor(\n\t\tvalidators: ValidatorFn<T>[],\n\t\tmeta?: FormControlMeta\n) {\n\t\tthis.validators = writable({validators, control: this});\n\t\tthis.meta = writable({...defaultMeta,...meta} ?? {});\n\t\tthis.label = meta?.name ?? '';\n\t}\n\t\n\tabstract value: Writable<T>;\n\n\tabstract state: Readable<ControlState<T>>;\n\n\tabstract child(path: string): ControlBaseInterface<T> | null;\n\n\tabstract reset(value?: T): void;\n\n\tabstract setTouched(touched: boolean): void;\n\n\tsetMeta(meta: FormControlMeta) {\n\t\tthis.meta.set(meta);\n\t}\n\tpatchMeta(meta: Partial<FormControlMeta>) {\n\t\tconst currentMeta = get(this.meta);\n\t\tthis.meta.set({...currentMeta,...meta});\n\t}\n\n\tsetValidators(validators: ValidatorFn<T>[]) {\n\t\tif (!(Array.isArray(validators) && validators.length)) return;\n\t\tthis.validators.set({validators, control: this});\n\t}\n}\n\nexport class Control<T = ControlTypes> extends ControlBase<T> {\n\tvalue = writable<T>(this.initial);\n\ttouched = writable(false);\n\tstate = derived<\n\t\t[Writable<T>, Writable<boolean>, Writable<ControlValidators<T>>, Writable<FormControlMeta>],\n\t\tControlState<T>\n\t>(\n\t\t[this.value, this.touched, this.validators,this.meta],\n\t\t([value, $touched, validators, meta], set) => {\n\t\t\tconst $dirty = this.initial !== value;\n\n\t\t\tconst $error = validateIterated(validators, value);\n\n\t\t\tlet $valid = true;\n\t\t\tlet $pending = false;\n\t\t\tlet $meta = meta;\n\t\t\tlet $type = 'control';\n\t\t\tif ($error != null && $error instanceof Promise) {\n\t\t\t\t$pending = true;\n\n\t\t\t\tset({\n\t\t\t\t\t$error: null,\n\t\t\t\t\t$valid,\n\t\t\t\t\t$touched,\n\t\t\t\t\t$dirty,\n\t\t\t\t\t$pending,\n\t\t\t\t\t$meta,\n\t\t\t\t\t$type\n\t\t\t\t} as ControlState<T>);\n\n\t\t\t\t$error\n\t\t\t\t\t.then((ret) => {\n\t\t\t\t\t\t$valid = ret == null;\n\t\t\t\t\t\t$pending = false;\n\t\t\t\t\t\tset({\n\t\t\t\t\t\t\t$error: ret,\n\t\t\t\t\t\t\t$valid,\n\t\t\t\t\t\t\t$touched,\n\t\t\t\t\t\t\t$dirty,\n\t\t\t\t\t\t\t$pending,\n\t\t\t\t\t\t\t$meta,\n\t\t\t\t\t\t\t$type\n\t\t\t\t\t\t} as ControlState<T>);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t$valid = false;\n\t\t\t\t\t\tset({\n\t\t\t\t\t\t\t$error: {\n\t\t\t\t\t\t\t\tserverError: true,\n\t\t\t\t\t\t\t} as ValidationError<boolean>,\n\t\t\t\t\t\t\t$valid,\n\t\t\t\t\t\t\t$touched,\n\t\t\t\t\t\t\t$dirty,\n\t\t\t\t\t\t\t$pending,\n\t\t\t\t\t\t\t$meta,\n\t\t\t\t\t\t\t$type\n\t\t\t\t\t\t} as ControlState<T>);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$valid = $error == null;\n\n\t\t\t\tset({\n\t\t\t\t\t$error,\n\t\t\t\t\t$valid,\n\t\t\t\t\t$touched,\n\t\t\t\t\t$dirty,\n\t\t\t\t\t$pending,\n\t\t\t\t\t$meta,\n\t\t\t\t\t$type\n\t\t\t\t} as ControlState<T>);\n\t\t\t}\n\t\t}\n\t);\n\n\tconstructor(\n\t\tpublic initial: T,\n\t\tvalidators: ValidatorFn<T>[] = [],\n\t\tmeta?: FormControlMeta\n\t) {\n\t\tsuper(validators, meta);\n\t}\n\n\tsetTouched(touched: boolean) {\n\t\tthis.touched.set(touched);\n\t}\n\n\tchild(): ControlBaseInterface<T> | null {\n\t\treturn null!;\n\t}\n\n\n\treset(value?: T) {\n\t\tif (value !== undefined) this.initial = value;\n\t\tthis.value.set(this.initial);\n\t\tthis.touched.set(false);\n\t}\n}\n\ntype Controls<T> = { [K in keyof T]: ControlBaseInterface<T[K]> };\ntype ControlsState<T> = { [K in keyof T]: ControlState };\nconst objectPath = /^([^.[]+)\\.?(.*)$/;\n\nexport class ControlGroup<T> extends ControlBase<T> {\n\tprivate controlStore = writable<Controls<T>>({} as any);\n\n\tcontrols: Readable<Controls<T>> = {\n\t\tsubscribe: this.controlStore.subscribe,\n\t};\n\n\tprivate valueDerived = derived(\n\t\tthis.controlStore,\n\t\t(controls: Controls<T>, set: (value: T) => void) => {\n\t\t\tconst keys = Object.keys(controls) as Array<keyof T>;\n\t\t\tconst controlValues = keys.map((key) => controls[key].value);\n\t\t\tconst derivedValues = derived(\n\t\t\t\tcontrolValues as any,\n\t\t\t\t(values) =>\n\t\t\t\t\t(<any[]>values).reduce(\n\t\t\t\t\t\t(acc, value, index) => (\n\t\t\t\t\t\t\t(acc[keys[index]] = value), acc\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{}\n\t\t\t\t\t) as T\n\t\t\t);\n\t\t\treturn derivedValues.subscribe(set);\n\t\t}\n\t);\n\n\tprivate touched = writable(false);\n\n\tprivate childStateDerived = derived(\n\t\tthis.controlStore,\n\t\t(controls: Controls<T>, set: (value: ControlsState<T>) => void) => {\n\t\t\tconst keys = Object.keys(controls) as Array<keyof T>;\n\t\t\tconst controlStates = keys.map((key) => controls[key].state);\n\t\t\tconst derivedStates = derived(\n\t\t\t\tcontrolStates as any,\n\t\t\t\t(states) =>\n\t\t\t\t\t(<any[]>states).reduce(\n\t\t\t\t\t\t(acc, state, index) => (\n\t\t\t\t\t\t\t(acc[keys[index]] = state), acc\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{}\n\t\t\t\t\t) as ControlsState<T>\n\t\t\t);\n\t\t\treturn derivedStates.subscribe(set);\n\t\t}\n\t);\n\n\tvalue: Writable<T> = {\n\t\tsubscribe: this.valueDerived.subscribe,\n\t\tset: (value) => this.setValue(value),\n\t\tupdate: (updater) => this.setValue(updater(get(this.valueDerived))),\n\t};\n\n\tstate = derived(\n\t\t[this.valueDerived, this.childStateDerived, this.validators, this.touched, this.meta],\n\t\t([value, childState, validators, touched, meta]) => {\n\n\t\t\tif (!this.propagateChanges && this.currentState !== null) {\n\t\t\t\treturn this.currentState\n\t\t\t}\n\t\t\tconst children: Record<string, $ControlState> = {};\n\t\t\tlet childrenValid = true;\n\t\t\tlet $touched = touched;\n\t\t\tlet $dirty = false;\n\t\t\tlet $pending = false;\n\t\t\tlet $meta = meta;\n\t\t\tlet $type = 'group';\n\t\t\tfor (const key of Object.keys(childState)) {\n\t\t\t\tconst state = (children[key] = (childState as any)[\n\t\t\t\t\tkey\n\t\t\t\t] as $ControlState);\n\t\t\t\tchildrenValid = childrenValid && state.$valid;\n\t\t\t\t$touched = $touched || state.$touched;\n\t\t\t\t$dirty = $dirty || state.$dirty;\n\t\t\t\t$pending = $pending || state.$pending;\n\t\t\t}\n\t\t\tconst $error = validateIterated(validators, value);\n\n\t\t\tconst $valid = $error == null && childrenValid;\n\t\t\tlet temp =  {\n\t\t\t\t$error,\n\t\t\t\t$valid,\n\t\t\t\t$touched,\n\t\t\t\t$dirty,\n\t\t\t\t$pending,\n\t\t\t\t$meta,\n\t\t\t\t$type,\n\t\t\t\t...children,\n\t\t\t} as ControlState<T>;\n\t\t\tthis.currentState = temp\n\t\t\treturn temp\n\t\t}\n\t);\n\n\tconstructor(\n\t\tcontrols: Controls<T>, \n\t\tvalidators: ValidatorFn<T>[] = [],\n\t\tmeta?: FormControlMeta\n\t) {\n\t\tsuper(validators, meta);\n\t\tthis.controlStore.set(controls);\n\t}\n\n\tprivate iterateControls<K extends keyof T>(\n\t\tcallback: (args: [K, ControlBaseInterface<T[K]>]) => void\n\t) {\n\t\tconst controls = get(this.controlStore);\n\t\t(<[K, ControlBaseInterface<T[K]>][]>Object.entries(controls)).forEach(callback);\n\t}\n\n\tpublic setValue(value: T) {\n\t\tthis.iterateControls(([key, control]) => {\n\t\t\tconst controlValue = (value && value[key]) ?? null;\n\t\t\tcontrol.value.set(controlValue!);\n\t\t});\n\t}\n\tpublic patchValue(value: Partial<T>) {\n\t\tconst currentValue = get(this.valueDerived);\n\t\tthis.setValue({...currentValue, ...value});\n\t}\n\n\tsetControls(controls: Controls<T>) {\n\t\tthis.controlStore.set(controls);\n\t}\n\tpatchControls(controls: Partial<Controls<T>>) {\n\t\tconst currentControls = get(this.controlStore);\n\t\tthis.setControls({...currentControls, ...controls});\n\t}\n\taddControls(list: {key: string, control: ControlBase}[],options?:ControlEventOptions ) {\n\t\tif (options && options.propagateChanges === false) {\n\t\t\tthis.propagateChanges = false;\n\t\t}\n\n\t\tthis.controlStore.update(\n\t\t\t(controls) => {\n\t\t\t\t\tlist.forEach(({key, control}) => {\n\t\t\t\t\t\t(<any>controls)[key] = control;\n\t\t\t\t\t})\n\t\t\t\t\treturn controls\n\t\t\t\t}\n\t\t);\n\n\t\tthis.propagateChanges = true;\n\t}\n\taddControl(key: keyof T, control: ControlBaseInterface<T[keyof T]>,options?:ControlEventOptions) {\n\t\tif (options && options.propagateChanges === false) {\n\t\t\tthis.propagateChanges = false;\n\t\t}\n\t\tthis.controlStore.update(\n\t\t\t(controls) => (((controls)[key] = control), controls)\n\t\t);\n\t\tthis.propagateChanges = true;\n\t}\n\n\tremoveControl(key: keyof T,options?:ControlEventOptions) {\n\t\tif (options && options.propagateChanges === false) {\n\t\t\tthis.propagateChanges = false;\n\t\t}\n\t\tthis.controlStore.update(\n\t\t\t(controls) => {\n\t\t\t\tif (controls[key]) {\n\t\t\t\t\tdelete controls[key];\n\t\t\t\t}\n\t\t\t\treturn controls;\n\t\t\t}\n\t\t);\n\t\tthis.propagateChanges = true;\n\t}\n\n\tsetTouched(touched: boolean) {\n\t\tthis.iterateControls(([_, control]) => {\n\t\t\tcontrol.setTouched(touched);\n\t\t});\n\t\tthis.touched.set(touched);\n\t}\n\n\tchild(path: string): ControlBaseInterface<T> | null {\n\t\tconst [_, name, rest] = path.match(objectPath) || [];\n\t\tconst controls = get(this.controlStore);\n\t\tconst control =\n\t\t\t(name && ((controls as any)[name] as ControlBaseInterface<T>)) || null;\n\t\tif (!control) return null!;\n\t\treturn rest ? control.child(rest) : control;\n\t}\n\n\treset(value?: Partial<T>) {\n\t\tthis.iterateControls(([key, control]) => {\n\t\t\tconst controlValue = (value && value[key]) || undefined;\n\t\t\tcontrol.reset(controlValue!);\n\t\t});\n\t}\n}\n\nconst arrayPath = /^\\[(\\d+)\\]\\.?(.*)$/;\n\nexport class ControlArray<T> extends ControlBase<T[]> {\n\tprivate controlStore = writable(this._controls);\n\n\tprivate touched = writable(false);\n\n\tcontrols: Readable<ControlBaseInterface<T>[]> = {\n\t\tsubscribe: this.controlStore.subscribe,\n\t};\n\n\tprivate valueDerived = derived(\n\t\tthis.controlStore,\n\t\t(controls: ControlBaseInterface<T>[], set: (value: T[]) => void) => {\n\t\t\tconst derivedValues = derived(\n\t\t\t\tcontrols.map((control) => control.value) as any,\n\t\t\t\t(values) => values as T[]\n\t\t\t);\n\t\t\treturn derivedValues.subscribe(set);\n\t\t}\n\t);\n\n\tprivate childStateDerived = derived(\n\t\tthis.controlStore,\n\t\t(controls: ControlBaseInterface<T>[], set: (value: $ControlState[]) => void) => {\n\t\t\tconst derivedStates = derived(\n\t\t\t\tcontrols.map((control) => control.state) as any,\n\t\t\t\t(values) => values as $ControlState[]\n\t\t\t);\n\t\t\treturn derivedStates.subscribe(set);\n\t\t}\n\t);\n\n\tvalue: Writable<T[]> = {\n\t\tsubscribe: this.valueDerived.subscribe,\n\t\tset: (value) => this.setValue(value),\n\t\tupdate: (updater) => this.setValue(updater(get(this.valueDerived))),\n\t};\n\n\tstate = derived(\n\t\t[this.valueDerived, this.childStateDerived, this.validators, this.touched],\n\t\t([value, childState, validators, touched]) => {\n\t\t\tconst arrayState = {} as $ControlState & { list: $ControlState[] };\n\t\t\tarrayState.list = [];\n\t\t\tlet childrenValid = true;\n\t\t\tarrayState.$touched = touched;\n\t\t\tfor (let i = 0, len = childState.length; i < len; i++) {\n\t\t\t\tconst state = childState[i];\n\t\t\t\tarrayState.list[i] = state;\n\t\t\t\tchildrenValid = childrenValid && state.$valid;\n\t\t\t\tarrayState.$touched = arrayState.$touched || state.$touched || false;\n\t\t\t\tarrayState.$dirty = arrayState.$dirty || state.$dirty;\n\t\t\t}\n\t\t\tarrayState.$error = validateIterated(validators, value, );\n\t\t\tarrayState.$valid = arrayState.$error == null && childrenValid;\n\t\t\tarrayState.$meta = get(this.meta);\n\t\t\tarrayState.$type = 'array';\n\n\t\t\treturn arrayState as ControlState<T[]>;\n\t\t}\n\t);\n\n\tconstructor(\n\t\tprivate readonly _controls: ControlBaseInterface<T>[],\n\t\tvalidators: ValidatorFn<T[]>[] = [],\n\t\tmeta?: FormControlMeta\n\t) {\n\t\tsuper(validators, meta);\n\t}\n\n\tprivate iterateControls(\n\t\tcallback: (control: ControlBaseInterface<T>, index: number) => void\n\t) {\n\t\tconst controls: ControlBaseInterface<T>[] = get(this.controlStore);\n\t\tcontrols.forEach(callback);\n\t}\n\n\tprivate sortArray(val: ControlBaseInterface<T>[]) {\n\t\tconst currentControls = get(this.controlStore);\n\t\tlet newOrderIds = val.map((control) => control.id);\n\t\tlet newOrder = newOrderIds.map((id) => currentControls.find((control) => control.id === id));\n\t\tnewOrder = newOrder.filter((control) => control !== undefined) ;\n\t\tthis.controlStore.set(newOrder as ControlBaseInterface<T>[]);\n\n\t}\n\tsetValue(value: T[]) {\n\t\tthis.controlStore.set([])\n\t\tconst currentMeta = get(this.meta);\n\t\tif (!currentMeta.emptyControl) {\n\t\t\tconsole.error('FormControlMeta.emptyControl is required for ControlArray');\n\t\t} else {\n\t\t\tconst newState = value.map(v => {\n\t\t\t\tconst control = currentMeta.emptyControl();\n\t\t\t\tcontrol.setValue(v);\n\t\t\t\treturn control;\n\t\t\t})\n\t\t\tthis.controlStore.set(newState);\n\t\t}\n\n\t\t/*\t\tthis.iterateControls((control, index) => {\n          const controlValue = (value && value[index]) || null;\n          control.value.set(controlValue!);\n        });*/\n\t}\n\n\tsetTouched(touched: boolean) {\n\t\tthis.touched.set(touched);\n\t\tthis.iterateControls((control) => control.setTouched(touched));\n\t}\n\n\tpushControl(control: ControlBaseInterface<T>) {\n\t\tthis.controlStore.update(\n\t\t\t(controls) => (controls.push(control), controls)\n\t\t);\n\t}\n\n\taddControlAt(index: number, control: ControlBaseInterface<T>) {\n\t\tthis.controlStore.update(\n\t\t\t(controls) => (controls.splice(index, 0, control), controls)\n\t\t);\n\t}\n\n\tremoveControlAt(index: number) {\n\t\tthis.controlStore.update(\n\t\t\t(controls) => (controls.splice(index, 1), controls)\n\t\t);\n\t}\n\n\tremoveControl(control: ControlBaseInterface<T>) {\n\t\tthis.controlStore.update((controls) =>\n\t\t\tcontrols.filter((c) => c !== control)\n\t\t);\n\t}\n\n\tslice(start?: number, end?: number) {\n\t\tthis.controlStore.update((controls) => controls.slice(start, end));\n\t}\n\n\t//@ts-ignore\n\tchild(path: string): ControlBaseInterface<T> | null {\n\t\tconst [_, index, rest] = path.match(arrayPath) || [];\n\t\tconst controls: ControlBaseInterface<T>[] = get(this.controlStore);\n\t\tconst control = (index != null && controls[+index]) || null;\n\t\tif (!control) return null!;\n\t\treturn rest ? control.child(rest) : control;\n\t}\n\n\treset(value?: T[]) {\n\t\tthis.iterateControls((control, index) => {\n\t\t\tconst controlValue = (value && value[index]) || null;\n\t\t\tcontrol.reset(controlValue!);\n\t\t});\n\t}\n}\n","import { get, Readable } from 'svelte/store';\nimport {Control} from \"./control\";\nimport {$ControlState} from \"./interfaces\";\n\n\nexport const controlClasses = (el: HTMLElement, control: Control) => {\n\tif (!(control instanceof Control)) throw new Error('must be used with a Control class');\n\n\tconst classList = el.classList;\n\n\tconst stateSub = control.state.subscribe((state) => {\n\t\tif (state.$error) {\n\t\t\tclassList.add('invalid');\n\t\t\tclassList.remove('valid');\n\t\t} else {\n\t\t\tclassList.add('valid');\n\t\t\tclassList.remove('invalid');\n\t\t}\n\n\t\tif (state.$dirty) {\n\t\t\tclassList.add('dirty');\n\t\t\tclassList.remove('pristine');\n\t\t} else {\n\t\t\tclassList.add('pristine');\n\t\t\tclassList.remove('dirty');\n\t\t}\n\n\t\tif (state.$touched) {\n\t\t\tclassList.add('touched');\n\t\t} else {\n\t\t\tclassList.remove('touched');\n\t\t}\n\n\t});\n\n\tconst eventNames = ['blur', 'focusout'];\n\n\tconst unregister = () => eventNames.forEach(eventName => el.removeEventListener(eventName, touchedFn));\n\n\tconst touchedFn = () => {\n\t\tif ((<$ControlState>get(control.state)).$touched) return;\n\t\tcontrol.setTouched(true);\n\t}\n\n\teventNames.forEach(eventName => el.addEventListener(eventName, touchedFn));\n\n\treturn {\n\t\tdestroy() {\n\t\t\tunregister();\n\t\t\tstateSub();\n\t\t}\n\t}\n};\n","import {ControlBase} from \"./control\";\n\nexport interface ValidationError<D = any> {\n\t[name: string]: D;\n}\n\nexport type ValidatorFn<T = any, D = any> = (fieldValue: T, control: ControlBase) => ValidationError<D> | null;\n\ntype ValidatorFactory<C = unknown, T = any, D = any> = (config: C) => ValidatorFn<T, D>;\n\nconst empty = (value: any) => value == null || `${value}` === '';\n\nexport const required: ValidatorFn<string | number | boolean, boolean> = value => {\n\tlet stringValue = value != null && value !== false ? `${value}`.trim() : '';\n\treturn stringValue !== '' ? null : { required: true };\n};\n\nconst emailFormat = /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/;\nexport const email: ValidatorFn<string, boolean> = email => {\n\tconst valid = empty(email) || emailFormat.test(email);\n\treturn valid ? null : { email: true };\n};\n\nexport const minLength: ValidatorFactory<number, string, number> = min => value => {\n\tconst valid = empty(value) || min == null || `${value}`.trim().length >= min;\n\treturn valid ? null : { minLength: min };\n};\n\nexport const maxLength: ValidatorFactory<number, string, number> = max => value => {\n\tconst valid = empty(value) || max == null || `${value}`.trim().length <= max;\n\treturn valid ? null : { maxLength: max };\n};\n\nexport const number: ValidatorFn<string | number, boolean> = number => {\n\tconst valid = empty(number) || !isNaN(+number);\n\treturn valid ? null : { number: true };\n};\n\nconst decimalFormat = /^\\d*\\.?\\d+$/;\nexport const decimal: ValidatorFn<string | number, boolean> = number => {\n\tconst valid = empty(number) || !isNaN(+number) && decimalFormat.test(`${number}`);\n\treturn valid ? null : { decimal: true };\n};\n\nconst intFormat = /^\\d+$/;\nexport const integer: ValidatorFn<string | number, boolean> = number => {\n\tconst valid = empty(number) || !isNaN(+number) && intFormat.test(`${number}`);\n\treturn valid ? null : { integer: true };\n};\n\n\nexport const min: ValidatorFactory<number, string | number, number> = min => number => {\n\tconst valid = empty(number) || !isNaN(+number) && (min == null || number >= min);\n\treturn valid ? null : { min };\n};\n\nexport const max: ValidatorFactory<number, string | number, number> = max => number => {\n\tconst valid = empty(number) || !isNaN(+number) && (max == null || number <= max);\n\treturn valid ? null : { max };\n};\n\nexport const pattern: ValidatorFactory<RegExp, string, string> = re => text => {\n\tconst valid = empty(text) || (re == null || re.test(text));\n\treturn valid ? null : { pattern: `${re}`};\n};\n"],"names":["uuidv4"],"mappings":"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"}